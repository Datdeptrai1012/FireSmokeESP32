ğŸ”¥ğŸš¨ FIRE & SMOKE DETECTION SYSTEM USING ESP32
Há»‡ thá»‘ng phÃ¡t hiá»‡n khÃ³i â€“ lá»­a vÃ  Ä‘iá»u khiá»ƒn quáº¡t/bÆ¡m thÃ´ng minh qua MQTT â€“ Node-RED
1. ğŸ¯ Äáº·t váº¥n Ä‘á»

Há»a hoáº¡n, rÃ² rá»‰ khÃ³i vÃ  chÃ¡y lan lÃ  má»™t trong nhá»¯ng nguyÃªn nhÃ¢n gÃ¢y thiá»‡t háº¡i náº·ng ná» vá» tÃ i sáº£n vÃ  con ngÆ°á»i. Viá»‡c phÃ¡t hiá»‡n sá»›m khÃ³i/lá»­a káº¿t há»£p tá»± Ä‘á»™ng kÃ­ch hoáº¡t quáº¡t, bÆ¡m vÃ  cÃ²i cáº£nh bÃ¡o giÃºp giáº£m thiá»ƒu rá»§i ro vÃ  há»— trá»£ xá»­ lÃ½ ká»‹p thá»i.

Dá»± Ã¡n nÃ y xÃ¢y dá»±ng má»™t há»‡ thá»‘ng IoT nháº­n biáº¿t khÃ³i, lá»­a, Ä‘iá»u khiá»ƒn quáº¡t â€“ bÆ¡m â€“ cÃ²i, vÃ  hiá»ƒn thá»‹ tráº¡ng thÃ¡i thá»i gian thá»±c thÃ´ng qua MQTT + Node-RED Dashboard.

Há»‡ thá»‘ng cho phÃ©p:

ğŸ”¥ PhÃ¡t hiá»‡n lá»­a qua cáº£m biáº¿n Flame

ğŸŒ«ï¸ PhÃ¡t hiá»‡n khÃ³i báº±ng MQ-2

ğŸ”„ Äiá»u khiá»ƒn quáº¡t, bÆ¡m tá»± Ä‘á»™ng hoáº·c thá»§ cÃ´ng

ğŸ”Š CÃ²i buzzer báº­t khi nguy hiá»ƒm

ğŸ–¥ï¸ Theo dÃµi realtime trÃªn Node-RED Dashboard

ğŸŒ Äiá»u khiá»ƒn qua Internet báº±ng MQTT

2. ğŸ› ï¸ Pháº§n cá»©ng sá»­ dá»¥ng
Thiáº¿t bá»‹	Sá»‘ lÆ°á»£ng
ESP32 DEVKIT V1	1
Cáº£m biáº¿n khÃ³i MQ-2	1
Cáº£m biáº¿n Flame	1
Relay 5V	2
Quáº¡t DC	1
BÆ¡m mini DC	1
CÃ²i buzzer thá»¥ Ä‘á»™ng	1
MÃ n OLED SSD1306	1
Breadboard + dÃ¢y ná»‘i	1 bá»™
3. ğŸ”Œ SÆ¡ Ä‘á»“ káº¿t ná»‘i (Schematic)

4. ğŸ“¸ áº¢nh chá»¥p máº¡ch thá»±c táº¿
![image alt](https://github.com/Datdeptrai1012/FireSmokeESP32/blob/fba751b38a4cae1848fae3cb3a44581afc100d6e/test/anhthucte.jpg)

5. ğŸ–¥ï¸ Node-RED Dashboard

áº¢nh dashboard:

Dashboard gá»“m:

Smoke indicator

Flame indicator

Fan / Pump / Buzzer buttons

AUTO â€“ MANUAL switch

Log dá»¯ liá»‡u JSON thá»i gian thá»±c

6. ğŸ“¡ Giao tiáº¿p MQTT

Broker sá»­ dá»¥ng: MQTTX

Chá»§ Ä‘á» MQTT:
Topic	MÃ´ táº£
home/control ; gá»­i lá»‡nh Ä‘iá»u khiá»ƒn
home/sensor/data : dá»¯ liá»‡u cáº£m biáº¿n
JSON gá»­i tá»« ESP32:
{
  "smoke": 205,
  "flame": 0,
  "fan": 1,
  "pump": 1,
  "buzzer": 1,
  "auto_mode": 1
}

7. ğŸ“ Firmware ESP32

ThÆ° má»¥c mÃ£ nguá»“n firmware:

/hethongbaochay/
    â”œâ”€â”€ src/
    â”œâ”€â”€ platformio.ini


Chá»©c nÄƒng pháº§n má»m:

Äo MQ-2 vÃ  Flame

Gá»­i dá»¯ liá»‡u JSON má»—i 1 giÃ¢y

Äiá»u khiá»ƒn relay quáº¡t/bÆ¡m

Äiá»u khiá»ƒn buzzer thá»¥ Ä‘á»™ng (tone)

Hiá»ƒn thá»‹ tráº¡ng thÃ¡i trÃªn OLED

Nháº­n lá»‡nh MQTT tá»« Node-RED

Cháº¿ Ä‘á»™ AUTO khi phÃ¡t hiá»‡n nguy hiá»ƒm

8. âœ”ï¸ Káº¿t quáº£ Ä‘áº¡t Ä‘Æ°á»£c

Há»‡ thá»‘ng phÃ¡t hiá»‡n khÃ³i vÃ  lá»­a chÃ­nh xÃ¡c

Äiá»u khiá»ƒn quáº¡t/bÆ¡m/cÃ²i hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh

Dashboard Node-RED hiá»ƒn thá»‹ realtime

Tá»± Ä‘á»™ng xá»­ lÃ½ khi cÃ³ nguy hiá»ƒm

Giao tiáº¿p MQTT qua internet mÆ°á»£t vÃ  á»•n Ä‘á»‹nh

10. ğŸ“ Káº¿t luáº­n

Dá»± Ã¡n giÃºp hiá»ƒu rÃµ quy trÃ¬nh xÃ¢y dá»±ng má»™t há»‡ thá»‘ng IoT hoÃ n chá»‰nh gá»“m:

Cáº£m biáº¿n

Äiá»u khiá»ƒn

Káº¿t ná»‘i MQTT

Dashboard Node-RED

Há»‡ thá»‘ng hoáº¡t Ä‘á»™ng tá»‘t vÃ  cÃ³ thá»ƒ má»Ÿ rá»™ng:

ThÃªm cáº£nh bÃ¡o Telegram

Gá»­i log lÃªn Google Sheet

ThÃªm cáº£m biáº¿n nhiá»‡t Ä‘á»™ (DS18B20)

Thiáº¿t káº¿ há»™p Ä‘á»±ng + PCB


